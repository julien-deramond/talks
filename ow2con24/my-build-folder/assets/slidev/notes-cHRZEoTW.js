import{h as y,i as b,j as N,k as F}from"../modules/unplugin-icons-BPrKtC3t.js";import{d as w,t as B,S as C,y as h,D as I,b as D,e as n,h as x,l as s,k as d,x as z,F as R,o as f,c as k}from"../modules/vue-C3U069DO.js";import{u as T,a as j,d as m,s as E,f as H,_ as L}from"../index-Cxm26KJ_.js";import{N as P}from"./NoteDisplay-Tb7asdVb.js";import{I as U}from"./IconButton-72k6_TDV.js";import"../modules/shiki-DzaYbSXO.js";const V=w({__name:"notes",setup(S,{expose:p}){p(),T({title:`Notes - ${E}`});const{slides:_,total:e}=j(),{isFullscreen:v,toggle:g}=H,c=B(),o=C("slidev-notes-font-size",18),l=h(()=>{var t;return((t=m.lastUpdate)==null?void 0:t.type)==="viewer"?m.viewerPage:m.page}),u=h(()=>_.value.find(t=>t.no===l.value));I(l,()=>{var t;(t=c.value)==null||t.scrollTo({left:0,top:0,behavior:"smooth"}),window.scrollTo({left:0,top:0,behavior:"smooth"})});function i(){o.value=o.value+1}function r(){o.value=o.value-1}const a={slides:_,total:e,isFullscreen:v,toggleFullscreen:g,scroller:c,fontSize:o,pageNo:l,currentRoute:u,increaseFontSize:i,decreaseFontSize:r,NoteDisplay:P,IconButton:U};return Object.defineProperty(a,"__isScriptSetup",{enumerable:!1,value:!0}),a}}),M={class:"h-full pt-2 flex flex-col"},O={class:"flex-none border-t border-main"},q={class:"flex gap-1 items-center px-6 py-3"},A=n("div",{class:"flex-auto"},null,-1),G={class:"p2 text-center"};function J(S,p,_,e,v,g){var i,r,a;const c=N,o=F,l=y,u=b;return f(),D(R,null,[n("div",{class:"fixed top-0 left-0 h-3px bg-primary transition-all duration-500",style:x({width:`${(e.pageNo-1)/(e.total-1)*100+1}%`})},null,4),n("div",M,[n("div",{ref:"scroller",class:"px-5 flex-auto h-full overflow-auto",style:x({fontSize:`${e.fontSize}px`})},[s(e.NoteDisplay,{note:(i=e.currentRoute)==null?void 0:i.meta.slide.note,"note-html":(r=e.currentRoute)==null?void 0:r.meta.slide.noteHTML,placeholder:`No notes for Slide ${e.pageNo}.`,"clicks-context":(a=e.currentRoute)==null?void 0:a.meta.__clicksContext,"auto-scroll":!0},null,8,["note","note-html","placeholder","clicks-context"])],4),n("div",O,[n("div",q,[s(e.IconButton,{title:e.isFullscreen?"Close fullscreen":"Enter fullscreen",onClick:e.toggleFullscreen},{default:d(()=>[e.isFullscreen?(f(),k(c,{key:0})):(f(),k(o,{key:1}))]),_:1},8,["title","onClick"]),s(e.IconButton,{title:"Increase font size",onClick:e.increaseFontSize},{default:d(()=>[s(l)]),_:1}),s(e.IconButton,{title:"Decrease font size",onClick:e.decreaseFontSize},{default:d(()=>[s(u)]),_:1}),A,n("div",G,z(e.pageNo)+" / "+z(e.total),1)])])])],64)}const $=L(V,[["render",J],["__file","/Users/ju/slides/ow2con24/node_modules/.pnpm/@slidev+client@0.49.9_postcss@8.4.38_vite@5.2.12/node_modules/@slidev/client/pages/notes.vue"]]);export{$ as default};
