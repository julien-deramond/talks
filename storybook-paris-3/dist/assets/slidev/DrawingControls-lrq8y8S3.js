import{f as V,Q as E,R as L,S as U,T as j,U as q,V as R,W as K,X as N,Y as O,Z as T,$ as A}from"../modules/unplugin-icons-BGOR5PKN.js";import{d as I,t as B,T as F,aD as Y,o as f,b as P,f as Q,h as S,c as h,k as a,l as r,i as t,e as l,x as W,ae as p,af as X,F as Z,a9 as G,ap as v,g as H}from"../modules/vue-LRxAorHn.js";import{L as J}from"../modules/shiki-RnNLOD1n.js";import{u as $}from"./DrawingPreview-D7LxV_5s.js";import{V as nn}from"./ContextMenu-DqLo7yBv.js";import{_ as z}from"../index-DWJ0UZ1z.js";import{I as en}from"./IconButton-np-GZLgm.js";import"./SlideContainer-CRbPGxFP.js";import"./SlideWrapper-Dyw-aGKR.js";import"./context-DLOTfryc.js";const on=I({__name:"Draggable",props:{storageKey:{type:String,required:!1},initial:{type:Object,required:!1}},setup(u,{expose:e}){e();const i=u,n=B(null),d=i.initial??{x:0,y:0},c=i.storageKey?F(i.storageKey,d):B(d),{style:g}=Y(n,{initialValue:c}),s={props:i,el:n,initial:d,point:c,style:g};return Object.defineProperty(s,"__isScriptSetup",{enumerable:!1,value:!0}),s}});function rn(u,e,i,n,d,c){return f(),P("div",{ref:"el",class:"fixed",style:S(n.style)},[Q(u.$slots,"default")],4)}const an=z(on,[["render",rn],["__file","/Users/ju/talks/storybook-paris-3/node_modules/.pnpm/@slidev+client@0.49.9_@nuxt+kit@3.11.2_rollup@4.22.4__@vue+compiler-sfc@3.4.27_postcss@8.4.47_4i3r2m7ezxrq7qpxifpbimmzgu/node_modules/@slidev/client/internals/Draggable.vue"]]),tn=I({__name:"DrawingControls",setup(u,{expose:e}){e();const{brush:i,canClear:n,canRedo:d,canUndo:c,clear:g,drauu:s,drawingEnabled:w,drawingMode:m,drawingPinned:k,brushColors:y}=$();function D(){s.undo()}function x(){s.redo()}let _="stylus";function C(o){m.value=o,w.value=!0,o!=="eraseLine"&&(_=o)}function M(o){i.color=o,w.value=!0,m.value=_}const b={brush:i,canClear:n,canRedo:d,canUndo:c,clear:g,drauu:s,drawingEnabled:w,drawingMode:m,drawingPinned:k,brushColors:y,undo:D,redo:x,get lastDrawingMode(){return _},set lastDrawingMode(o){_=o},setDrawingMode:C,setBrushColor:M,get Menu(){return J},VerticalDivider:nn,Draggable:an,IconButton:en};return Object.defineProperty(b,"__isScriptSetup",{enumerable:!1,value:!0}),b}}),ln=l("svg",{width:"1em",height:"1em",class:"-mt-0.5",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24"},[l("path",{d:"M21.71 3.29a1 1 0 0 0-1.42 0l-18 18a1 1 0 0 0 0 1.42a1 1 0 0 0 1.42 0l18-18a1 1 0 0 0 0-1.42z",fill:"currentColor"})],-1),sn=l("svg",{viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},[l("line",{x1:"2",y1:"15",x2:"22",y2:"4",stroke:"currentColor","stroke-width":"1","stroke-linecap":"round"}),l("line",{x1:"2",y1:"24",x2:"28",y2:"10",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round"}),l("line",{x1:"7",y1:"31",x2:"29",y2:"19",stroke:"currentColor","stroke-width":"3","stroke-linecap":"round"})],-1),dn={class:"flex bg-main p-2"},cn={class:"inline-block w-7 text-center"},_n={class:"pt-.5"};function un(u,e,i,n,d,c){const g=V,s=E,w=L,m=U,k=j,y=q,D=R,x=K,_=N,C=O,M=T,b=A;return f(),h(n.Draggable,{class:t(["flex flex-wrap text-xl p-2 gap-1 rounded-md bg-main shadow transition-opacity duration-200 z-20 border border-main",n.drawingEnabled?"":n.drawingPinned?"opacity-40 hover:opacity-90":"opacity-0 pointer-events-none"]),"storage-key":"slidev-drawing-pos","initial-x":10,"initial-y":10},{default:a(()=>[r(n.IconButton,{title:"Draw with stylus",class:t({shallow:n.drawingMode!=="stylus"}),onClick:e[0]||(e[0]=o=>n.setDrawingMode("stylus"))},{default:a(()=>[r(g)]),_:1},8,["class"]),r(n.IconButton,{title:"Draw a line",class:t({shallow:n.drawingMode!=="line"}),onClick:e[1]||(e[1]=o=>n.setDrawingMode("line"))},{default:a(()=>[ln]),_:1},8,["class"]),r(n.IconButton,{title:"Draw an arrow",class:t({shallow:n.drawingMode!=="arrow"}),onClick:e[2]||(e[2]=o=>n.setDrawingMode("arrow"))},{default:a(()=>[r(s)]),_:1},8,["class"]),r(n.IconButton,{title:"Draw an ellipse",class:t({shallow:n.drawingMode!=="ellipse"}),onClick:e[3]||(e[3]=o=>n.setDrawingMode("ellipse"))},{default:a(()=>[r(w)]),_:1},8,["class"]),r(n.IconButton,{title:"Draw a rectangle",class:t({shallow:n.drawingMode!=="rectangle"}),onClick:e[4]||(e[4]=o=>n.setDrawingMode("rectangle"))},{default:a(()=>[r(m)]),_:1},8,["class"]),r(n.IconButton,{title:"Erase",class:t({shallow:n.drawingMode!=="eraseLine"}),onClick:e[5]||(e[5]=o=>n.setDrawingMode("eraseLine"))},{default:a(()=>[r(k)]),_:1},8,["class"]),r(n.VerticalDivider),r(n.Menu,null,{popper:a(()=>[l("div",dn,[l("div",cn,W(n.brush.size),1),l("div",_n,[p(l("input",{"onUpdate:modelValue":e[6]||(e[6]=o=>n.brush.size=o),type:"range",min:"1",max:"15",onChange:e[7]||(e[7]=o=>n.drawingMode=n.lastDrawingMode)},null,544),[[X,n.brush.size]])])])]),default:a(()=>[r(n.IconButton,{title:"Adjust stroke width",class:t({shallow:n.drawingMode==="eraseLine"})},{default:a(()=>[sn]),_:1},8,["class"])]),_:1}),(f(!0),P(Z,null,G(n.brushColors,o=>(f(),h(n.IconButton,{key:o,title:"Set brush color",class:t(n.brush.color===o&&n.drawingMode!=="eraseLine"?"active":"shallow"),onClick:gn=>n.setBrushColor(o)},{default:a(()=>[l("div",{class:t(["w-6 h-6 transition-all transform border",n.brush.color!==o?"rounded-1/2 scale-85 border-white":"rounded-md border-gray-300/50"]),style:S(n.drawingEnabled?{background:o}:{borderColor:o})},null,6)]),_:2},1032,["class","onClick"]))),128)),r(n.VerticalDivider),r(n.IconButton,{title:"Undo",class:t({disabled:!n.canUndo}),onClick:e[8]||(e[8]=o=>n.undo())},{default:a(()=>[r(y)]),_:1},8,["class"]),r(n.IconButton,{title:"Redo",class:t({disabled:!n.canRedo}),onClick:e[9]||(e[9]=o=>n.redo())},{default:a(()=>[r(D)]),_:1},8,["class"]),r(n.IconButton,{title:"Delete",class:t({disabled:!n.canClear}),onClick:e[10]||(e[10]=o=>n.clear())},{default:a(()=>[r(x)]),_:1},8,["class"]),r(n.VerticalDivider),r(n.IconButton,{title:n.drawingPinned?"Unpin drawing":"Pin drawing",class:t({shallow:!n.drawingPinned}),onClick:e[11]||(e[11]=o=>n.drawingPinned=!n.drawingPinned)},{default:a(()=>[p(r(_,{class:"transform -rotate-45"},null,512),[[v,n.drawingPinned]]),p(r(C,null,null,512),[[v,!n.drawingPinned]])]),_:1},8,["title","class"]),n.drawingEnabled?(f(),h(n.IconButton,{key:0,title:n.drawingPinned?"Drawing pinned":"Drawing unpinned",class:t({shallow:!n.drawingEnabled}),onClick:e[12]||(e[12]=o=>n.drawingEnabled=!n.drawingEnabled)},{default:a(()=>[p(r(M,null,null,512),[[v,n.drawingPinned]]),p(r(b,null,null,512),[[v,!n.drawingPinned]])]),_:1},8,["title","class"])):H("v-if",!0)]),_:1},8,["class"])}const Cn=z(tn,[["render",un],["__file","/Users/ju/talks/storybook-paris-3/node_modules/.pnpm/@slidev+client@0.49.9_@nuxt+kit@3.11.2_rollup@4.22.4__@vue+compiler-sfc@3.4.27_postcss@8.4.47_4i3r2m7ezxrq7qpxifpbimmzgu/node_modules/@slidev/client/internals/DrawingControls.vue"]]);export{Cn as default};
