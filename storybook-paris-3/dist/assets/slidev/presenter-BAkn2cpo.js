import{ah as G,A as y,d as B,o as s,c as v,i as A,C as e,t as F,G as T,P as V,L as W,O as H,ai as q,a5 as O,b as _,e as t,l as i,k as g,h as I,g as J,x as K,F as Q,p as U,a as X}from"../modules/vue-Dff40p7A.js";import{a as Y,u as Z,c as ee,d as te,h as se,j as oe,k as ne,l as re,m as ie,n as ae,s as le,_ as ce}from"../index-ChaMkb2s.js";import{u as ue}from"./DrawingPreview.vue_vue_type_script_setup_true_lang-B5la-xIR.js";import{r as de,u as me,a as pe,S as _e,o as ve,_ as fe,G as xe,b as he,c as ke}from"./shortcuts-BbXtgWyz.js";import{C as ge}from"./ClicksSlider-DoWfEgS0.js";import{_ as ye}from"./DrawingControls.vue_vue_type_style_index_0_lang-BA4HaV16.js";import{_ as M}from"./IconButton.vue_vue_type_script_setup_true_lang-CF6kpNON.js";import{_ as Ce}from"./NoteDisplay.vue_vue_type_style_index_0_lang-CjGGL6SA.js";import{a as Se,S as P}from"./SlideContainer-KirVmL7e.js";import{S as be}from"./SlideWrapper-Xm8ek-p9.js";import"../modules/shiki-CVFM2M5h.js";import"./context-DqxFGWyK.js";import"../modules/unplugin-icons-BbiQRfe9.js";function we(){const{counter:a,isActive:n,reset:r,pause:u,resume:p}=G(1e3,{controls:!0});return{timer:y(()=>{const d=a.value,C=Math.floor(d%60).toString().padStart(2,"0");return`${Math.floor(d/60).toString().padStart(2,"0")}:${C}`}),isTimerAvctive:n,resetTimer:r,toggleTimer:()=>n.value?u():p()}}const $e=B({__name:"NoteStatic",props:{no:{},class:{},clicksContext:{}},setup(a){const n=a,{info:r}=Se(n.no);return(u,p)=>{var f,d;return s(),v(Ce,{class:A(n.class),note:(f=e(r))==null?void 0:f.note,"note-html":(d=e(r))==null?void 0:d.noteHTML,"clicks-context":u.clicksContext},null,8,["class","note","note-html","clicks-context"])}}}),c=a=>(U("data-v-d19e1596"),a=a(),X(),a),ze={class:"bg-main h-full slidev-presenter"},Ne=c(()=>t("div",{class:"absolute left-0 top-0 bg-main border-b border-r border-main px2 py1 op50 text-sm"}," Current ",-1)),Fe={class:"relative grid-section next flex flex-col p-2 lg:p-4"},Te={key:1,class:"h-full flex justify-center items-center"},Ie=c(()=>t("div",{class:"text-gray-500"}," End of the presentation ",-1)),Me=[Ie],Pe=c(()=>t("div",{class:"absolute left-0 top-0 bg-main border-b border-r border-main px2 py1 op50 text-sm"}," Next ",-1)),Be={key:0,class:"grid-section note of-auto"},Ae={key:1,class:"grid-section note grid grid-rows-[1fr_min-content] overflow-hidden"},De={class:"border-t border-main py-1 px-2 text-sm"},Ee=c(()=>t("div",{class:"i-carbon:zoom-in"},null,-1)),Le=c(()=>t("div",{class:"i-carbon:zoom-out"},null,-1)),Re={class:"grid-section bottom flex"},je=c(()=>t("div",{"flex-auto":""},null,-1)),Ge={class:"group flex items-center justify-center pl-4 select-none"},Ve={class:"w-22px cursor-pointer"},We=c(()=>t("div",{class:"i-carbon:time group-hover:hidden text-xl"},null,-1)),He={class:"group-not-hover:hidden flex flex-col items-center"},qe={key:0,class:"i-carbon:pause text-lg"},Oe={key:1,class:"i-carbon:play"},Je=c(()=>t("div",{class:"i-carbon:renew"},null,-1)),Ke=[Je],Qe={class:"text-2xl px-3 my-auto tabular-nums"},Ue={class:"progress-bar"},Xe=B({__name:"presenter",setup(a){const n=F();de(),me(n),pe();const{clicksContext:r,currentSlideNo:u,currentSlideRoute:p,hasNext:f,nextRoute:d,slides:C,getPrimaryClicks:w,total:D}=Y(),{isDrawing:E}=ue();Z({title:`Presenter - ${le}`}),F(!1);const{timer:L,isTimerAvctive:R,resetTimer:$,toggleTimer:z}=we(),j=y(()=>C.value.map(h=>ee(h))),l=y(()=>r.value.current<r.value.total?[p.value,r.value.current+1]:f.value?[d.value,0]:null),x=y(()=>l.value&&j.value[l.value[0].no-1]);T(l,()=>{x.value&&l.value&&(x.value.current=l.value[1])},{immediate:!0});const N=V();return W(()=>{const h=n.value.querySelector("#slide-content"),m=H(q()),k=O();T(()=>{if(!k.value||E.value||!se.value)return;const o=h.getBoundingClientRect(),S=(m.x-o.left)/o.width*100,b=(m.y-o.top)/o.height*100;if(!(S<0||S>100||b<0||b>100))return{x:S,y:b}},o=>{te.cursor=o})}),(h,m)=>{var k;return s(),_(Q,null,[t("div",ze,[t("div",{class:A(["grid-container",`layout${e(oe)}`])},[t("div",{ref_key:"main",ref:n,class:"relative grid-section main flex flex-col"},[i(P,{key:"main",class:"p-2 lg:p-4 flex-auto","is-main":"",onContextmenu:e(ve)},{default:g(()=>[i(_e,{"render-context":"presenter"})]),_:1},8,["onContextmenu"]),(s(),v(ge,{key:(k=e(p))==null?void 0:k.no,"clicks-context":e(w)(e(p)),class:"w-full pb2 px4 flex-none"},null,8,["clicks-context"])),Ne],512),t("div",Fe,[l.value&&x.value?(s(),v(P,{key:"next"},{default:g(()=>[(s(),v(be,{key:l.value[0].no,"clicks-context":x.value,route:l.value[0],"render-context":"previewNext"},null,8,["clicks-context","route"]))]),_:1})):(s(),_("div",Te,Me)),Pe]),N.value&&e(ne)?(s(),_("div",Be,[i(e(N))])):(s(),_("div",Ae,[(s(),v($e,{key:`static-${e(u)}`,no:e(u),class:"w-full max-w-full h-full overflow-auto p-2 lg:p-4",style:I({fontSize:`${e(re)}em`}),"clicks-context":e(r)},null,8,["no","style","clicks-context"])),t("div",De,[i(M,{title:"Increase font size",onClick:e(ie)},{default:g(()=>[Ee]),_:1},8,["onClick"]),i(M,{title:"Decrease font size",onClick:e(ae)},{default:g(()=>[Le]),_:1},8,["onClick"]),J("",!0)])])),t("div",Re,[i(fe,{persist:!0}),je,t("div",Ge,[t("div",Ve,[We,t("div",He,[t("div",{class:"relative op-80 hover:op-100",onClick:m[2]||(m[2]=(...o)=>e(z)&&e(z)(...o))},[e(R)?(s(),_("div",qe)):(s(),_("div",Oe))]),t("div",{class:"op-80 hover:op-100",onClick:m[3]||(m[3]=(...o)=>e($)&&e($)(...o))},Ke)])]),t("div",Qe,K(e(L)),1)])]),(s(),v(ye,{key:2}))],2),t("div",Ue,[t("div",{class:"progress h-3px bg-primary transition-all",style:I({width:`${(e(u)-1)/(e(D)-1)*100+1}%`})},null,4)])]),i(xe),i(he),i(ke)],64)}}}),dt=ce(Xe,[["__scopeId","data-v-d19e1596"]]);export{dt as default};
